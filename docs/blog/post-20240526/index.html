<!DOCTYPE html>
<html lang="ja"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <title>NUTMEG | 長岡技術科学大学 技大祭実行委員会 情報局</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="静的サイトジェネレーターHugoを使って作成しているNUTMEGブログの改修を行いました。更新内容は、ブログの記事ごとに別々の著者名を表示、著者一覧（author）ページの作成、メンバーページのアップデートと管理方法の変更、Productページのアップデート、Memberページのアップデートの5点です。config.tomlやindex/.htmlなどもがっつり編集しています。">
  <meta name="author" content="NUTMEG">
  <meta name="generator" content="Hugo 0.140.0">

  <!-- plugins -->
  
  <link rel="stylesheet" href="http://localhost:1313/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="http://localhost:1313/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="http://localhost:1313/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="http://localhost:1313/plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="http://localhost:1313/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="http://localhost:1313/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="http://localhost:1313/images/favicon.png " type="image/x-icon">

  
  <link rel="stylesheet" href="http://localhost:1313/css/custom_post.css">
  

  <meta property="og:url" content="http://localhost:1313/blog/post-20240526/">
  <meta property="og:site_name" content="NUTMEG | 長岡技術科学大学 技大祭実行委員会 情報局">
  <meta property="og:title" content="NUTMEGブログ大改造ビフォーアフター">
  <meta property="og:description" content="静的サイトジェネレーターHugoを使って作成しているNUTMEGブログの改修を行いました。更新内容は、ブログの記事ごとに別々の著者名を表示、著者一覧（author）ページの作成、メンバーページのアップデートと管理方法の変更、Productページのアップデート、Memberページのアップデートの5点です。config.tomlやindex/.htmlなどもがっつり編集しています。">
  <meta property="og:locale" content="ja">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-05-26T20:12:57+09:00">
    <meta property="article:modified_time" content="2024-05-26T20:12:57+09:00">
    <meta property="article:tag" content="HTML">
    <meta property="article:tag" content="CSS">
    <meta property="article:tag" content="Hugo">
    <meta property="og:image" content="http://localhost:1313/images/OGP.png">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/images/OGP.png">
  <meta name="twitter:title" content="NUTMEGブログ大改造ビフォーアフター">
  <meta name="twitter:description" content="静的サイトジェネレーターHugoを使って作成しているNUTMEGブログの改修を行いました。更新内容は、ブログの記事ごとに別々の著者名を表示、著者一覧（author）ページの作成、メンバーページのアップデートと管理方法の変更、Productページのアップデート、Memberページのアップデートの5点です。config.tomlやindex/.htmlなどもがっつり編集しています。">


  <!-- google analitycs -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'Your ID', 'auto');
    ga('send', 'pageview');
  </script>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q71WVEHHBF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

  gtag('config', 'G-Q71WVEHHBF');
  </script>
</head>
<body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="http://localhost:1313/"><img class="img-fluid"
          src="http://localhost:1313/images/NUTMEG-logo_all_color_horizontal.png" alt="NUTMEG | 長岡技術科学大学 技大祭実行委員会 情報局"></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://twitter.com/nutfes_nutmeg"><i class="ti-twitter-alt"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.instagram.com/nutfes/?hl=ja"><i class="ti-instagram"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/orgs/NUTFes"><i class="ti-github"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="http://localhost:1313/"><img class="img-fluid"
            src="http://localhost:1313/images/NUTMEG-logo_all_color_horizontal.png" alt="NUTMEG | 長岡技術科学大学 技大祭実行委員会 情報局"></a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="http://localhost:1313/about">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="http://localhost:1313/blog">Post</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="http://localhost:1313/products">Products</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="http://localhost:1313/members">Members</a>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <div class="search pl-lg-4">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="http://localhost:1313//search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        
        <a href="http://localhost:1313/categories/%e6%b4%bb%e5%8b%95%e3%81%ae%e6%a7%98%e5%ad%90"
          class="text-primary">活動の様子</a>
        
        <h2>NUTMEGブログ大改造ビフォーアフター</h2>
        <div class="mb-3 post-meta">
          <span class="author">
            
            
            <p>
              
              
              By ryota5884
              
              
              
              
              <span class="border-bottom border-primary px-2 mx-1"></span>
              26 May 2024
              
            </p>
          </span>
        </div>
        
        <img src="https://hackmd.io/_uploads/HyiZI9eNC.png" class="img-fluid w-100 mb-4" alt="NUTMEGブログ大改造ビフォーアフター">
        
        <div class="content mb-5">
          <p>NUTMEGデザイナーチーム 修士2年のryota5884です。この度ふと思い立って後回しにしていたブログの改修をしてみました。多少苦戦したのでその解決方法を後輩への引き継ぎも兼ねてまとめようと思います。</p>
<p>改修作業後にこのブログを書こうと思い立ったため、Beforeの画像はありません！タイトル詐欺かも…。</p>
<h2 id="目次">目次</h2>
<ul>
<li><a href="#%E7%9B%AE%E6%AC%A1">目次</a></li>
<li><a href="#%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8">やったこと</a></li>
<li><a href="#%E3%83%96%E3%83%AD%E3%82%B0%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%94%E3%81%A8%E3%81%AB%E5%88%A5%E3%80%85%E3%81%AE%E8%91%97%E8%80%85%E5%90%8D%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B">ブログの記事ごとに別々の著者名を表示する</a>
<ul>
<li><a href="#%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90%E3%81%AE%E6%A6%82%E8%A6%81">条件分岐の概要</a></li>
<li><a href="#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BE%8B">具体的な例</a>
<ul>
<li><a href="#%E4%BE%8B1-authors%E3%81%8C%E8%A8%AD%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E5%A0%B4%E5%90%88">例1: <code>authors</code>が設定されている場合</a></li>
<li><a href="#%E4%BE%8B2-authors%E3%81%8C%E8%A8%AD%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8C%E8%A9%B2%E5%BD%93%E3%81%99%E3%82%8B%E3%82%AD%E3%83%BC%E3%81%8C%E5%AD%98%E5%9C%A8%E3%81%97%E3%81%AA%E3%81%84%E5%A0%B4%E5%90%88">例2: <code>authors</code>が設定されているが、該当するキーが存在しない場合</a></li>
<li><a href="#%E4%BE%8B3-authors%E3%81%8C%E8%A8%AD%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%A0%B4%E5%90%88">例3: <code>authors</code>が設定されていない場合</a></li>
</ul>
</li>
<li><a href="#%E6%97%A5%E4%BB%98%E3%81%AE%E8%A1%A8%E7%A4%BA">日付の表示</a></li>
</ul>
</li>
<li><a href="#%E8%91%97%E8%80%85%E4%B8%80%E8%A6%A7authors%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B">著者一覧（authors）ページの作成する</a></li>
<li><a href="#%E3%83%A1%E3%83%B3%E3%83%90%E3%83%BC%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88%E3%81%A8%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95%E3%81%AE%E5%A4%89%E6%9B%B4">メンバーページのアップデートと管理方法の変更</a></li>
<li><a href="#product%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88">Productページのアップデート</a></li>
<li><a href="#member%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88">Memberページのアップデート</a></li>
<li><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB">最後に</a></li>
</ul>
<h2 id="やったこと">やったこと</h2>
<ul>
<li>ブログの記事ごとに別々の著者名を表示</li>
<li>著者一覧（authors）ページの作成</li>
<li>メンバーページのアップデートと管理方法の変更</li>
<li>Productページのアップデート</li>
<li>Memberページのアップデート</li>
</ul>
<h2 id="ブログの記事ごとに別々の著者名を表示する">ブログの記事ごとに別々の著者名を表示する</h2>
<p><img src="https://hackmd.io/_uploads/HyiZI9eNC.png" alt="image"></p>
<p>従来のブログでは実際の著者が誰であろうとBy NUTMEGと表示していました。Hugoは一人で運営するサイトを想定しているのかデフォルトではconfig.tomlで設定したauthorの値を表示することしかできません。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">params</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">author</span> <span class="p">=</span> <span class="s2">&#34;NUTMEG&#34;</span>
</span></span></code></pre></div><p>今回はconfig.tomlにメンバーの人数分<code>[params.authors.member-name]</code>を作成し、これを表示するlayouts/index.htmlに少し手を加えることで実現しました。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="err">**</span><span class="nx">config</span><span class="p">.</span><span class="nx">toml</span><span class="err">**</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">authors</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">authors</span><span class="p">.</span><span class="nx">ryota5884</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;ryota5884&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">bio</span> <span class="p">=</span> <span class="s2">&#34;Designer&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">authors</span><span class="p">.</span><span class="nx">ryota5884</span><span class="err">(</span><span class="mi">2</span><span class="err">)</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;ryota5884(2)&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">bio</span> <span class="p">=</span> <span class="s2">&#34;Designer(2)&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">authors</span><span class="p">.</span><span class="nx">ryota5884</span><span class="err">(</span><span class="mi">3</span><span class="err">)</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;ryota5884(3)&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">bio</span> <span class="p">=</span> <span class="s2">&#34;Designer(3)&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">**layouts/index.html**
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- featured post --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;section-sm&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;row justify-content-center&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-10 featured-post-slider&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- slider item --&gt;</span>
</span></span><span class="line"><span class="cl">        {{ range ( where .Site.RegularPages &#34;Type&#34; &#34;featured&#34; )}}
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card featured-post&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;row no-gutters align-items-center&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-md-5&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              {{ if .Params.Image }}
</span></span><span class="line"><span class="cl">              <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{ .Params.Image | absURL }}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card-img&#34;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;{{ .Title | markdownify }}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              {{ end }}
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-md-6 offset-md-1&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card-body&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;mb-3 post-meta&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                  <span class="c">&lt;!-- ↓↓↓ 著者名の表示に関する部分 ↓↓↓ --&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;author&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    {{ if .Params.authors }}
</span></span><span class="line"><span class="cl">                    {{ $author := index .Site.Params.Authors .Params.authors}}
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                      {{ if $author }}
</span></span><span class="line"><span class="cl">                      <span class="c">&lt;!-- ブログ記事のmarkdownで書かれたauthorがconfig.tomlで設定されているとき --&gt;</span>
</span></span><span class="line"><span class="cl">                      By {{ $author.name }}
</span></span><span class="line"><span class="cl">                      {{ else }}
</span></span><span class="line"><span class="cl">                      <span class="c">&lt;!-- ブログ記事のmarkdownで書かれたauthorがconfig.tomlで設定されていないとき --&gt;</span>
</span></span><span class="line"><span class="cl">                      By {{ .Params.authors }}
</span></span><span class="line"><span class="cl">                      {{ end }}
</span></span><span class="line"><span class="cl">                      {{ else }}
</span></span><span class="line"><span class="cl">                      <span class="c">&lt;!-- ブログ記事のmarkdownにauthorの記入欄がないとき --&gt;</span>
</span></span><span class="line"><span class="cl">                      By {{ .Site.Params.defaultAuthor}}
</span></span><span class="line"><span class="cl">                      {{ end }}
</span></span><span class="line"><span class="cl">                      {{ if not .Params.HideDate }}
</span></span><span class="line"><span class="cl">                      <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;border-bottom border-primary px-2 mx-1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                      {{ .PublishDate.Format &#34;02 January 2006&#34; }}
</span></span><span class="line"><span class="cl">                      {{ end }}
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                  
</span></span><span class="line"><span class="cl">                <span class="c">&lt;!-- ↑↑↑ 著者名の表示に関する部分 ↑↑↑ --&gt;</span>
</span></span><span class="line"><span class="cl">                  
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">class</span><span class="o">=</span><span class="s">&#34;h1 font-weight-bold d-block text-dark mb-4 card-title&#34;</span><span class="p">&gt;</span>{{ .Title | markdownify }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card-text&#34;</span><span class="p">&gt;</span>{{.Summary}}...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        {{ end }}
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- /featured post --&gt;</span>
</span></span></code></pre></div><p>コード中にコメントで囲まれている部分以外は使用しているhugoのtheme、liva-hugoのlayouts/index.htmlと同様です。このコードはみぜさんの<a href="https://tec-on.net/2017/02/how-to-make-multiple-author-on-hugo/">Hugoの執筆者を複数人で切り分ける方法</a>をベースにカスタマイズしています。</p>
<p>この条件分岐は、ブログ記事のMarkdownファイルにおける<code>authors</code>の設定に基づいて、どのように著者名を表示するかを決定します。</p>
<h3 id="条件分岐の概要">条件分岐の概要</h3>
<ol>
<li>
<p>ブログ記事に<code>authors</code>が設定されている場合</p>
<p><strong>→<code>.Site.Params.Authors</code>から対応する著者オブジェクトを取得し、その名前を表示。</strong></p>
</li>
<li>
<p>ブログ記事の<code>authors</code>が設定されているが、<code>.Site.Params.Authors</code>にそのキーが存在しない場合</p>
<p><strong>→直接<code>authors</code>の値（著者のキー名）を表示</strong></p>
</li>
<li>
<p>ブログ記事に<code>authors</code>が設定されていない場合</p>
<p><strong>→サイト全体のデフォルトの著者名（<code>.Site.Params.defaultAuthor</code>）を表示</strong></p>
</li>
<li>
<p>日付表示の条件</p>
<p><strong>→<code>HideDate</code>が設定されていない場合、記事の公開日を表示</strong></p>
</li>
</ol>
<h3 id="具体的な例">具体的な例</h3>
<h4 id="例1-authorsが設定されている場合">例1: <code>authors</code>が設定されている場合</h4>
<p>Markdownファイルのメタデータ部分（Front Matter）:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;記事のタイトル&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="ld">2024-01-01</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">authors</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;ryota5884&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span></code></pre></div><p>この場合、<code>ryota5884</code>は<code>config.toml</code>に定義されていると仮定して、<code>.Site.Params.Authors</code>から<code>ryota5884</code>に関連する著者情報を取得し、その<code>name</code>属性（例えば &ldquo;小林諒大&rdquo;）を表示します。出力されるブログページでは「By小林諒大」と表示されます。</p>
<h4 id="例2-authorsが設定されているが該当するキーが存在しない場合">例2: <code>authors</code>が設定されているが、該当するキーが存在しない場合</h4>
<p>Markdownファイルのメタデータ部分：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;別の記事のタイトル&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="ld">2024-02-01</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">authors</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;unknown_author&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span></code></pre></div><p>この場合、<code>unknown_author</code>が<code>config.toml</code>に存在しないため、直接<code>authors</code>の値「unknown_author」を表示します。出力は「By [unknown_author]」とブラケットがついた状態で表示されます。</p>
<h4 id="例3-authorsが設定されていない場合">例3: <code>authors</code>が設定されていない場合</h4>
<p>Markdownファイルのメタデータ部分：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;さらに別の記事&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="ld">2024-03-01</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span></code></pre></div><p>この場合、<code>.Params.authors</code>が存在しないため、サイト全体のデフォルト著者名（ここでは仮に&quot;NUTMEG&quot;とします）が表示されます。出力は「By NUTMEG」となります。</p>
<h3 id="日付の表示">日付の表示</h3>
<p>ここでは著者名に続いて記事を作成した日付を表示しています。記事に<code>HideDate</code>が<code>false</code>または設定されていない場合、公開日が「02 January 2006」の形式で表示されます。この部分は記事の公開日時をユーザーに知らせるためのものです。海外では主流の表示形式ですが、日本だと見慣れないのでそのうち変えたいですねー。がんばれ後輩！</p>
<h2 id="著者一覧authorsページの作成する">著者一覧（authors）ページの作成する</h2>
<p><img src="https://hackmd.io/_uploads/r1RwvqlER.png" alt="image"></p>
<p>一応昔から存在はしてたのですが、author一覧ページのデザインを整え、Memberページから飛べるようにしました。</p>
<p>作り方はconfig.tomlの<code>[taxonomies]</code>に<code>author = &quot;authors&quot;</code>を追加して、プログ記事のmarkdowファイルに<code>authors: 著者名</code>を記述するだけです。それだけでページを作ることが出来ます。</p>
<p>正直あまり理解していないのですが、使用しているliva-hugoではauthorページをpost.html（postページのコンポーネント）を使用して作ります。そのため、layouts/_default/post.htmlの著者名表示部分を前述した<code>layouts/index.html</code>と同じように書くと日付の表示がおかしくなるので注意しましょう！</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">**layouts/_default/post.html**
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-md-6 mb-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        {{ if .Params.Image }}
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{ .Params.Image | absURL }}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card-img-top&#34;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;{{ .Title | markdownify }}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        {{ end }}
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card-body px-0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        {{ range .Params.Categories }}
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ `categories/` | relLangURL }}{{ . | urlize | lower }}&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">class</span><span class="o">=</span><span class="s">&#34;text-primary&#34;</span><span class="p">&gt;</span>{{ . | title | humanize }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        {{ end }}
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;h5 d-block my-3&#34;</span><span class="p">&gt;</span>{{ .Title | markdownify }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;mb-3 post-meta&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">            <span class="c">&lt;!--  著者名の表示に関する部分 ↓↓↓ --&gt;</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;author&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                {{ if isset .Params &#34;authors&#34; }} <span class="c">&lt;!-- .Params.authors が存在するかチェック --&gt;</span>
</span></span><span class="line"><span class="cl">                 <span class="c">&lt;!-- .Params.authors の最初の要素を取得 --&gt;</span>
</span></span><span class="line"><span class="cl">                    {{ $authorKey := index .Params.authors 0 }}
</span></span><span class="line"><span class="cl">                 <span class="c">&lt;!-- .Site.Params.Authors から著者情報を取得 --&gt;</span>
</span></span><span class="line"><span class="cl">                    {{ $author := index .Site.Params.Authors $authorKey }}
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    {{ if $author }}
</span></span><span class="line"><span class="cl">                        <span class="c">&lt;!-- Front Matterのauthorがauthors中にあるとき --&gt;</span>
</span></span><span class="line"><span class="cl">                        By {{ $author.name }}
</span></span><span class="line"><span class="cl">                        {{ if not .Params.HideDate }}
</span></span><span class="line"><span class="cl">                            <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;border-bottom border-primary px-2 mx-1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                            {{ .PublishDate.Format &#34;02 January 2006&#34; }}
</span></span><span class="line"><span class="cl">                        {{ end }}
</span></span><span class="line"><span class="cl">                    {{ else }}
</span></span><span class="line"><span class="cl">                        <span class="c">&lt;!-- Front Matterのauthorがauthorsに無かったとき --&gt;</span>
</span></span><span class="line"><span class="cl">                        By {{ .Site.Params.defaultAuthor }}
</span></span><span class="line"><span class="cl">                        {{ if not .Params.HideDate }}
</span></span><span class="line"><span class="cl">                            <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;border-bottom border-primary px-2 mx-1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                            {{ .PublishDate.Format &#34;02 January 2006&#34; }}
</span></span><span class="line"><span class="cl">                        {{ end }}
</span></span><span class="line"><span class="cl">                    {{ end }}
</span></span><span class="line"><span class="cl">                {{ else }}
</span></span><span class="line"><span class="cl">                    <span class="c">&lt;!-- .Params.authors が存在しないとき --&gt;</span>
</span></span><span class="line"><span class="cl">                    最終更新日:{{ .Date.Format &#34;02 January 2006&#34; }}
</span></span><span class="line"><span class="cl">                {{ end }}
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">            <span class="c">&lt;!-- ↑↑↑ 著者名の表示に関する部分 ↑↑↑ --&gt;</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card-text&#34;</span><span class="p">&gt;</span>{{ .Summary }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;btn btn-outline-primary&#34;</span><span class="p">&gt;</span>read more<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></div><h2 id="メンバーページのアップデートと管理方法の変更">メンバーページのアップデートと管理方法の変更</h2>
<p>従来のメンバーページからOBを除き、作業日までにプロフィールを提出してくれた人を追加しましたー。NUTMEGにはまだまだメンバーがいますが、ブログに名前を出したくない人もいると思うので強制はしていません。メンバーリストに名前が追加され次第、逐次追加する予定です。</p>
<p>何かしらDBを作って動的に参照してくれたら楽なのですが、簡単に実装できる方法が思いつかなかったのでメンバープロフィールはNUTMEGのNotionページで管理しています。新入生も簡単にアクセス出来ますし、学年などで管理しやすいことがメリットです。本名や学年などもプロパティとして存在していますが、画像では隠しています。</p>
<p>画像のようなデータベースをchatGPTにhugoで使えるような形に変換してもらうことで、NotionからMemberページに反映させています。これまでは後輩にchatGPTユーザーがいないと破綻してしまうため避けてきましたが、chatGPT-4oの登場により無料で高性能なLLMを誰でも利用するようになったため採用へ踏み切りました。</p>
<p>もちろん、完璧に変換してくれるわけではありませんが、十分許容できる範囲内です。</p>
<p><img src="https://hackmd.io/_uploads/HJlnIO9xE0.png" alt="image"></p>
<p><img src="https://hackmd.io/_uploads/r1iOu9gVC.png" alt="image"></p>
<h2 id="productページのアップデート">Productページのアップデート</h2>
<p><img src="https://hackmd.io/_uploads/rkOQFceNC.png" alt="image"></p>
<p>情報が古かったので2024年の新入生勧誘資料をベースにアップデートしました。</p>
<p>画像を貼り付けただけですが以前のページより使用技術がわかりやすくなったので便利そう。毎年スライドは作るでしょうし、こっちの方がブログの担当者も楽ですね。</p>
<h2 id="memberページのアップデート">Memberページのアップデート</h2>
<p><img src="https://hackmd.io/_uploads/rkrTOqg4C.png" alt="image"></p>
<p>情報の更新とメンバーごとの投稿記事へ簡単にアクセスできるようにしました。</p>
<p>別に大したアップデートではありませんが、メンバーが就活する際、自分が書いた記事の一覧を簡単に提示できるようになります。便利…かも？</p>
<h2 id="最後に">最後に</h2>
<p>まだまだ改善点は多いですが、疲れたのでこの辺でひと段落つけました。この記事がhugoを使って団体のブログを作ろうとしている人や、NUTMEGブログを引き継ぐ後輩の役に立つと幸いです。</p>

        </div>

        
        
      </div>
    </div>
  </div>
</section>



<footer>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 text-center mb-5">
        <a href="http://localhost:1313/"><img src="http://localhost:1313/images/NUTMEG-logo_all_color_horizontal.png" alt="NUTMEG | 長岡技術科学大学 技大祭実行委員会 情報局"></a>
      </div>
      
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Social Contacts</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://twitter.com/nutfes_nutmeg">twitter</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://www.instagram.com/nutfes/?hl=ja">instagram</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://github.com/orgs/NUTFes">github</a></li>
          
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Categories</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><a class="text-dark"
              href="http://localhost:1313/categories/nutmeg-advent-calendar-2023">Nutmeg advent calendar 2023</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="http://localhost:1313/categories/nutmeg-advent-calendar-2024">Nutmeg advent calendar 2024</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="http://localhost:1313/categories/%e3%82%a4%e3%83%99%e3%83%b3%e3%83%88">イベント</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="http://localhost:1313/categories/%e3%83%81%e3%83%bc%e3%83%a0%e3%81%a5%e3%81%8f%e3%82%8a">チームづくり</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="http://localhost:1313/categories/%e3%83%a1%e3%83%b3%e3%83%90%e3%83%bc%e3%81%ae%e8%b6%a3%e5%91%b3">メンバーの趣味</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="http://localhost:1313/categories/%e5%af%be%e5%a4%96%e6%b4%bb%e5%8b%95">対外活動</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="http://localhost:1313/categories/%e6%b4%bb%e5%8b%95%e3%81%ae%e6%a7%98%e5%ad%90">活動の様子</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Quick Links</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="http://localhost:1313/about">About</a></li>
          
          <li class="mb-3"><a class="text-dark" href="http://localhost:1313/blog">Post</a></li>
          
          <li class="mb-3"><a class="text-dark" href="http://localhost:1313/products">Products</a></li>
          
          <li class="mb-3"><a class="text-dark" href="http://localhost:1313/members">Members</a></li>
          
        </ul>
      </div>
      <div class="col-12 border-top py-4 text-center">
        © NUTMEG 2024
      </div>
    </div>
  </div>
</footer>

<script>
  var indexURL = "http://localhost:1313/index.json"
</script>

<!-- JS Plugins -->

<script src="http://localhost:1313/plugins/jQuery/jquery.min.js"></script>

<script src="http://localhost:1313/plugins/bootstrap/bootstrap.min.js"></script>

<script src="http://localhost:1313/plugins/slick/slick.min.js"></script>

<script src="http://localhost:1313/plugins/venobox/venobox.min.js"></script>

<script src="http://localhost:1313/plugins/search/fuse.min.js"></script>

<script src="http://localhost:1313/plugins/search/mark.js"></script>

<script src="http://localhost:1313/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="http://localhost:1313/js/script.min.js"></script>



</body>
</html>