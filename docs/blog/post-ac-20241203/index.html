<!DOCTYPE html>
<html lang="ja"><head>
  <meta charset="utf-8">
  <title>NUTMEG | é•·å²¡æŠ€è¡“ç§‘å­¦å¤§å­¦ æŠ€å¤§ç¥­å®Ÿè¡Œå§”å“¡ä¼š æƒ…å ±å±€</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="çš†æ§˜ã“ã‚“ã«ã¡ã¯ã€‚NUTMEGä¸‰å¹´ç›®ã®æ¯”å˜‰è¯ã§ã™ã€‚ã‚¢ãƒ‰ã‚«ãƒ¬3æ—¥ç›®ã«ãªã‚Šã¾ã™ã€‚ã¾ã åºã®ç« ã§ã‚ã‚Šã¾ã™ãŒæ˜¯éã”ä¸€èª­ãã ã•ã„ã€‚ ç§ãŸã¡ãŒBingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®é‹ç”¨ã‚’å§‹ã‚ã¦2å¹´ãŒçµŒã¡ã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ã‚ã‚‹ç¨‹åº¦ã®å®Œæˆç³»ãŒè¦‹ãˆã¦ãŠã‚Šã€ã“ã‚Œã‹ã‚‰ã¯ã‚¤ãƒ³ãƒ•ãƒ©é–¢é€£ã§å®‰å®šã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚æœ¬ãƒ–ãƒ­ã‚°ã§ã¯ã€Bingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹Hasura Engine v2ã®æ¦‚è¦ã¨æ§‹æˆã®ä¸€ä¾‹ã‚’å…±æœ‰ã—ã¾ã™ã€‚Hasuraè‡ªä½“ã®æ—¥æœ¬èªè¨˜äº‹ãŒå°‘ãªã„ &#43; ç§è‡ªèº«ã®Hasuraã®å¾©ç¿’ã‚‚å…¼ã­ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚ã“ã®æ§‹æˆãŒçµ¶å¯¾çš„ãªæ­£è§£ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã®ã§ã€ã‚ˆã‚Šè‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°ãœã²æ•™ãˆã¦ãã ã•ã„ã€‚">
  <meta name="author" content="NUTMEG">
  <meta name="generator" content="Hugo 0.140.0">

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://blog.nutmeg.cloud/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://blog.nutmeg.cloud/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://blog.nutmeg.cloud/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://blog.nutmeg.cloud/plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://blog.nutmeg.cloud/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://blog.nutmeg.cloud/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://blog.nutmeg.cloud/images/favicon.png " type="image/x-icon">

  
  <link rel="stylesheet" href="https://blog.nutmeg.cloud/css/custom_post.css">
  

  <meta property="og:url" content="https://blog.nutmeg.cloud/blog/post-ac-20241203/">
  <meta property="og:site_name" content="NUTMEG | é•·å²¡æŠ€è¡“ç§‘å­¦å¤§å­¦ æŠ€å¤§ç¥­å®Ÿè¡Œå§”å“¡ä¼š æƒ…å ±å±€">
  <meta property="og:title" content="hasura v2ã®ã™ã‚ã‚">
  <meta property="og:description" content="çš†æ§˜ã“ã‚“ã«ã¡ã¯ã€‚NUTMEGä¸‰å¹´ç›®ã®æ¯”å˜‰è¯ã§ã™ã€‚ã‚¢ãƒ‰ã‚«ãƒ¬3æ—¥ç›®ã«ãªã‚Šã¾ã™ã€‚ã¾ã åºã®ç« ã§ã‚ã‚Šã¾ã™ãŒæ˜¯éã”ä¸€èª­ãã ã•ã„ã€‚ ç§ãŸã¡ãŒBingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®é‹ç”¨ã‚’å§‹ã‚ã¦2å¹´ãŒçµŒã¡ã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ã‚ã‚‹ç¨‹åº¦ã®å®Œæˆç³»ãŒè¦‹ãˆã¦ãŠã‚Šã€ã“ã‚Œã‹ã‚‰ã¯ã‚¤ãƒ³ãƒ•ãƒ©é–¢é€£ã§å®‰å®šã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚æœ¬ãƒ–ãƒ­ã‚°ã§ã¯ã€Bingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹Hasura Engine v2ã®æ¦‚è¦ã¨æ§‹æˆã®ä¸€ä¾‹ã‚’å…±æœ‰ã—ã¾ã™ã€‚Hasuraè‡ªä½“ã®æ—¥æœ¬èªè¨˜äº‹ãŒå°‘ãªã„ &#43; ç§è‡ªèº«ã®Hasuraã®å¾©ç¿’ã‚‚å…¼ã­ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚ã“ã®æ§‹æˆãŒçµ¶å¯¾çš„ãªæ­£è§£ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã®ã§ã€ã‚ˆã‚Šè‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°ãœã²æ•™ãˆã¦ãã ã•ã„ã€‚">
  <meta property="og:locale" content="ja">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-12-03T11:01:12+09:00">
    <meta property="article:modified_time" content="2024-12-03T11:01:12+09:00">
    <meta property="article:tag" content="TypeScript">
    <meta property="article:tag" content="Next.js">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Hasura">
    <meta property="article:tag" content="ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰">
    <meta property="article:tag" content="APIé–¢ä¿‚">
    <meta property="og:image" content="https://blog.nutmeg.cloud/images/OGP.png">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://blog.nutmeg.cloud/images/OGP.png">
  <meta name="twitter:title" content="hasura v2ã®ã™ã‚ã‚">
  <meta name="twitter:description" content="çš†æ§˜ã“ã‚“ã«ã¡ã¯ã€‚NUTMEGä¸‰å¹´ç›®ã®æ¯”å˜‰è¯ã§ã™ã€‚ã‚¢ãƒ‰ã‚«ãƒ¬3æ—¥ç›®ã«ãªã‚Šã¾ã™ã€‚ã¾ã åºã®ç« ã§ã‚ã‚Šã¾ã™ãŒæ˜¯éã”ä¸€èª­ãã ã•ã„ã€‚ ç§ãŸã¡ãŒBingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®é‹ç”¨ã‚’å§‹ã‚ã¦2å¹´ãŒçµŒã¡ã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ã‚ã‚‹ç¨‹åº¦ã®å®Œæˆç³»ãŒè¦‹ãˆã¦ãŠã‚Šã€ã“ã‚Œã‹ã‚‰ã¯ã‚¤ãƒ³ãƒ•ãƒ©é–¢é€£ã§å®‰å®šã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚æœ¬ãƒ–ãƒ­ã‚°ã§ã¯ã€Bingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹Hasura Engine v2ã®æ¦‚è¦ã¨æ§‹æˆã®ä¸€ä¾‹ã‚’å…±æœ‰ã—ã¾ã™ã€‚Hasuraè‡ªä½“ã®æ—¥æœ¬èªè¨˜äº‹ãŒå°‘ãªã„ &#43; ç§è‡ªèº«ã®Hasuraã®å¾©ç¿’ã‚‚å…¼ã­ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚ã“ã®æ§‹æˆãŒçµ¶å¯¾çš„ãªæ­£è§£ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã®ã§ã€ã‚ˆã‚Šè‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°ãœã²æ•™ãˆã¦ãã ã•ã„ã€‚">


  <!-- google analitycs -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'Your ID', 'auto');
    ga('send', 'pageview');
  </script>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q71WVEHHBF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

  gtag('config', 'G-Q71WVEHHBF');
  </script>
</head>
<body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://blog.nutmeg.cloud/"><img class="img-fluid"
          src="https://blog.nutmeg.cloud/images/NUTMEG-logo_all_color_horizontal.png" alt="NUTMEG | é•·å²¡æŠ€è¡“ç§‘å­¦å¤§å­¦ æŠ€å¤§ç¥­å®Ÿè¡Œå§”å“¡ä¼š æƒ…å ±å±€"></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://twitter.com/nutfes_nutmeg"><i class="ti-twitter-alt"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.instagram.com/nutfes/?hl=ja"><i class="ti-instagram"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/orgs/NUTFes"><i class="ti-github"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://blog.nutmeg.cloud/"><img class="img-fluid"
            src="https://blog.nutmeg.cloud/images/NUTMEG-logo_all_color_horizontal.png" alt="NUTMEG | é•·å²¡æŠ€è¡“ç§‘å­¦å¤§å­¦ æŠ€å¤§ç¥­å®Ÿè¡Œå§”å“¡ä¼š æƒ…å ±å±€"></a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://blog.nutmeg.cloud/about">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://blog.nutmeg.cloud/blog">Post</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://blog.nutmeg.cloud/products">Products</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://blog.nutmeg.cloud/members">Members</a>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <div class="search pl-lg-4">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="https://blog.nutmeg.cloud//search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        
        <a href="https://blog.nutmeg.cloud/categories/nutmeg-advent-calendar-2024"
          class="text-primary">Nutmeg advent calendar 2024</a>
        
        <a href="https://blog.nutmeg.cloud/categories/%e3%83%a1%e3%83%b3%e3%83%90%e3%83%bc%e3%81%ae%e8%b6%a3%e5%91%b3"
          class="text-primary">ãƒ¡ãƒ³ãƒãƒ¼ã®è¶£å‘³</a>
        
        <a href="https://blog.nutmeg.cloud/categories/%e6%b4%bb%e5%8b%95%e3%81%ae%e6%a7%98%e5%ad%90"
          class="text-primary">æ´»å‹•ã®æ§˜å­</a>
        
        <h2>hasura v2ã®ã™ã‚ã‚</h2>
        <div class="mb-3 post-meta">
          <span class="author">
            
            
            <p>
              
              
              By æ¯”å˜‰è¯
              
              
              
              
              <span class="border-bottom border-primary px-2 mx-1"></span>
              03 December 2024
              
            </p>
          </span>
        </div>
        
        <img src="https://hackmd.io/_uploads/B1A1QhFXyx.png" class="img-fluid w-100 mb-4" alt="hasura v2ã®ã™ã‚ã‚">
        
        <div class="content mb-5">
          <h2 id="ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«</h2>
<p>çš†æ§˜ã“ã‚“ã«ã¡ã¯ã€‚NUTMEG 3å¹´ç›®ã®æ¯”å˜‰è¯ã§ã™ã€‚ã‚¢ãƒ‰ã‚«ãƒ¬3æ—¥ç›®ã«ãªã‚Šã¾ã™ã€‚ã¾ã åºã®ç« ã§ã‚ã‚Šã¾ã™ãŒæ˜¯éã”ä¸€èª­ãã ã•ã„ã€‚
ç§ãŸã¡ãŒBingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®é‹ç”¨ã‚’å§‹ã‚ã¦2å¹´ãŒçµŒã¡ã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ã‚ã‚‹ç¨‹åº¦ã®å®Œæˆç³»ãŒè¦‹ãˆã¦ãŠã‚Šã€ã“ã‚Œã‹ã‚‰ã¯ã‚¤ãƒ³ãƒ•ãƒ©é–¢é€£ã§å®‰å®šã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚æœ¬ãƒ–ãƒ­ã‚°ã§ã¯ã€Bingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹Hasura Engine v2ã®æ¦‚è¦ã¨æ§‹æˆã®ä¸€ä¾‹ã‚’å…±æœ‰ã—ã¾ã™ã€‚<strong>Hasuraè‡ªä½“ã®æ—¥æœ¬èªè¨˜äº‹ãŒå°‘ãªã„ + ç§è‡ªèº«ã®Hasuraã®å¾©ç¿’ã‚‚å…¼ã­ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚ã“ã®æ§‹æˆãŒçµ¶å¯¾çš„ãªæ­£è§£ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã®ã§ã€ã‚ˆã‚Šè‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°ãœã²æ•™ãˆã¦ãã ã•ã„ã€‚</strong></p>
<h2 id="hasura-graphql-engineã¨ã¯">Hasura GraphQL Engineã¨ã¯</h2>
<p>ä»¥ä¸‹ã¯<a href="https://hasura.io/docs/2.0/index/">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã®ç¿»è¨³ã§ã™ã€‚
Hasura GraphQL Engineã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’å³åº§ã«GraphQL APIã¨ã—ã¦åˆ©ç”¨å¯èƒ½ã«ã—ã€ãƒ¢ãƒ€ãƒ³ã§é«˜æ€§èƒ½ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„APIã‚’å¾“æ¥ã®10å€ã®é€Ÿã•ã§æ§‹ç¯‰ãƒ»æä¾›ã§ãã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ã‚¨ãƒ³ã‚¸ãƒ³ã§ã™ã€‚Hasuraã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€RESTãŠã‚ˆã³GraphQLã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£APIã«æ¥ç¶šã—ã€ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦çµ±åˆã•ã‚ŒãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚»ã‚­ãƒ¥ã‚¢ãªGraphQL APIã‚’æä¾›ã—ã¾ã™ã€‚Hasuraã®ã‚³ã‚¢æ©Ÿèƒ½ã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§é–‹ç™ºã•ã‚Œã¦ãŠã‚Šã€èª°ã§ã‚‚ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
<p>è¦ã™ã‚‹ã«ã€Hasura Engineï¼ˆä»¥ä¸‹ã€Hasuraï¼‰ã¯ã€PostgreSQLã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰è‡ªå‹•çš„ã«GraphQLã‚µãƒ¼ãƒãƒ¼ã‚’æ§‹ç¯‰ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚Hasuraã‚’ä½¿ç”¨ã™ã‚‹éš›ã¯ã€Hasuraã¨PostgreSQLã‚’çµ„ã¿åˆã‚ã›ã¦åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚ãªãŠã€<em><strong>ã€ŒHasuraã€ã¯ã€Œé˜¿ä¿®ç¾…ï¼ˆAshuraï¼‰ã€ã¨Haskellã‚’çµ„ã¿åˆã‚ã›ãŸé€ èªã§ã™ã€‚</strong></em></p>
<p>HasuraãŒè‡ªå‹•ã§GraphQLã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦å‹•ä½œã™ã‚‹ãŸã‚ã€GraphQLã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã™ã‚‹æ‰‹é–“ãŒçœã‘ã¾ã™ã€‚Hasuraã§è¨­å®šã™ã‚Œã°ã€ã™ãã«Queryã€Mutationã€Subscriptionã‚’ä½¿ãˆã‚‹ãŸã‚ã€é«˜ã„é–‹ç™ºåŠ¹ç‡ã§é–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚Hasuraã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã€ã‚¯ã‚¨ãƒªã«æ²¿ã£ãŸã‚³ãƒ¼ãƒ‰ã‚’GraphQL Code Generatorã§è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã®ã§ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å®Ÿè£…ã‚’ç°¡å˜ã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã¾ãŸã€Hasuraã§ã¯Auth0ãªã©ã®èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ã¨é€šä¿¡ã—ã€JWTã‚’åˆ©ç”¨ã—ã¦ã€å„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚„ã‚«ãƒ©ãƒ ã«å¯¾ã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ­ãƒ¼ãƒ«ã‚„IDã«åŸºã¥ãè©³ç´°ãªã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¨­å®šã§ãã¾ã™ã€‚JWTã«å«ã¾ã‚Œã‚‹ <code>X-Hasura-User-Id</code> ã‚’ä½¿ç”¨ã—ã¦ã€ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªèº«ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’å–å¾—ãƒ»æ“ä½œã§ãã‚‹ã‚ˆã†ã«åˆ¶é™ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p>
<h2 id="hasuraã®ç’°å¢ƒæ§‹ç¯‰">Hasuraã®ç’°å¢ƒæ§‹ç¯‰</h2>
<p>Dockerç’°å¢ƒã§ã®Hasuraã®ç’°å¢ƒæ§‹ç¯‰ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã“ã®æ‰‹é †ã‚’è¸ã‚€ã“ã¨ã§ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ã™ã¹ã¦Hasuraã«ä¸€ä»»ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<p>Bingoãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‹ã‚‰å¿…è¦ãªã‚‚ã®ã ã‘ã‚’æŠ½å‡ºã—ã¦ç°¡ç´ åŒ–ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ã‚ã¾ã‚Šå‚è€ƒã«ã—ãªã„ã§ãã ã•ã„ã€‚æœ¬æ¥ã¯ã€App Routerã®ä½¿ç”¨ã‚„pnpmã§ã®ç®¡ç†ãªã©ã‚’è¡Œã£ãŸæ–¹ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ï¼</p>
<p>æœ¬æ§‹æˆã®ç‰¹å¾´ã¯ã€<code>docker compose build</code>ãŒä¸è¦ã«ãªã‚‹ã“ã¨ã§ã™ã€‚ãŸã ã—ã€ä½¿ã„å‹æ‰‹ã¯æ­£ç›´ã‚ã¾ã‚Šè‰¯ãã‚ã‚Šã¾ã›ã‚“ã€‚èµ·å‹•ã®ãŸã³ã«<code>npm ciã€npm run</code>ãŒå®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã‹ã‚‰å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•ã¾ã§ç´„1åˆ†ã‹ã‹ã‚Šã¾ã™ã€‚</p>
<h3 id="æœ€çµ‚çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ-appã¯è§¦ã£ãŸéƒ¨åˆ†ã®ã¿ã‚’æ²è¼‰">æœ€çµ‚çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ â€»appã¯è§¦ã£ãŸéƒ¨åˆ†ã®ã¿ã‚’æ²è¼‰</h3>
<pre tabindex="0"><code>ğŸ“api
    ğŸ“metadata
    ğŸ“migrations/default/hoge_auto
        ğŸ“„up.sql
    ğŸ“seed
    ğŸ“„config.yaml
ğŸ“app
    ğŸ“src
        ğŸ“gql
            ğŸ“„users.gql
        ğŸ“pages
            ğŸ“„_app.tsx
            ğŸ“„index.tsx
        ğŸ“type
            ğŸ“„graphql.ts
    ğŸ“„.eslintrc.json
    ğŸ“„next.config.ts
    ğŸ“„codegen.ts
ğŸ“settings
    ğŸ“„.env
ğŸ“„compose.yaml
ğŸ“„.gitignore
ğŸ“„Makefile
</code></pre><p><a href="https://github.com/hikahana/hasura_v3">Githubã«æŒ™ã’ãŸã‚‚ã®ã¯ã“ã¡ã‚‰ã§ã™ã€‚</a></p>
<p>GitHubä¸Šã®ãƒªãƒã‚¸ãƒˆãƒªä½œæˆã¨first commitã¯å®Œäº†ã—ã¦ã„ã‚‹å‰æã§é€²ã‚ã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆã«ã¤ã„ã¦ä¸æ˜ãªæ–¹ã¯ã€<a href="https://docs.github.com/ja/repositories/creating-and-managing-repositories/creating-a-new-repository">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
<h3 id="1-compose-upã™ã‚‹ãŸã‚ã®æº–å‚™">1. compose upã™ã‚‹ãŸã‚ã®æº–å‚™</h3>
<p>1.1
ã¾ãšã€compose.yamlã‚’ä½œæˆã—ã€ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã®æƒ…å ±ã‚’å®šç¾©ã—ã¾ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯Nextjsã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯Hasuraã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯PostgreSQLã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€ã“ã‚Œã‚‰ã‚’å®šç¾©ã—ã¾ã™ã€‚</p>
<p>(ä»¥ä¸‹ã€compose.yamlã®å†…å®¹)</p>
<pre tabindex="0"><code>services:
  db:
    image: postgres:12
    container_name: &#34;db&#34;
    ports:
      - &#34;5432:5432&#34;
    volumes:
      - db-data:/var/lib/postgresql/data
    environment:
      POSTGRES_DB: db
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_HOST_AUTH_METHOD: trust
    healthcheck:
      test:
        - &#34;CMD-SHELL&#34;
        - &#34;pg_isready&#34;
      interval: 10s
      timeout: 5s
      retries: 5

  api: # hasura
    image: hasura/graphql-engine:v2.36.6@sha256:3fc234510962e66d5ca7db16734b8796a16fb729953915861953e974f976f30f
    container_name: &#34;api&#34;
    ports:
      - &#34;8080:8080&#34;
    volumes:
      - ./api:/hasura/api
    working_dir: /hasura/api
    env_file:
      - ./settings/.env
    entrypoint: &gt;
      sh -c &#34;
      curl -L https://github.com/hasura/graphql-engine/raw/stable/cli/get.sh | bash &amp;&amp;
      graphql-engine serve
      &#34;

  app:
    image: node:20-alpine@sha256:b5b9467fe7b33aad47f1ec3f6e0646a658f85f05c18d4243024212a91f3b7554
    container_name: &#34;app&#34;
    volumes:
      - ./app:/app
    working_dir: /app
    command: sh -c &#34;npm ci &amp;&amp; npm run dev&#34;
    ports:
      - &#34;3000:3000&#34;
    env_file:
      - ./settings/.env
    stdin_open: true
    tty: true

volumes:
  db-data:
</code></pre><hr>
<p>1.2
ç’°å¢ƒå¤‰æ•°ã‚’é…ç½®ã™ã‚‹ãŸã‚ã€è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚compose.yamlã‚’ç¢ºèªã™ã‚‹ã¨ã€apiã¨appã®ç’°å¢ƒå¤‰æ•°ã¯<code>settings/.env</code>ã‚’å‚ç…§ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã§</span>
</span></span><span style="display:flex;"><span>mkdir settings
</span></span><span style="display:flex;"><span>cd settings
</span></span><span style="display:flex;"><span>touch .env
</span></span></code></pre></div><p>.envãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
(ä»¥ä¸‹ã€.envã®å†…å®¹)</p>
<pre tabindex="0"><code>NEXT_PUBLIC_CSR_API_URL=&#34;http://localhost:8080&#34;
NEXT_PUBLIC_SSR_API_URL=&#34;http://api:8080&#34;
NEXT_PUBLIC_BASE_URL=&#34;http://localhost:8080&#34;
API_URI=&#34;http://localhost:8080&#34;
WATCHPACK_POLLING=&#34;true&#34;
WS_API_URL=&#34;ws://localhost:8080&#34;

HASURA_GRAPHQL_ENABLE_CONSOLE=&#34;true&#34;
# &#34;postgres://{db_user_name}:{db_user_password}@{seivice_name}:{db_port}/{db_name}&#34;
HASURA_GRAPHQL_DATABASE_URL=&#34;postgres://user:password@db:5432/db&#34;
HASURA_GRAPHQL_DEV_MODE=&#34;true&#34;
HASURA_GRAPHQL_ENABLED_LOG_TYPES=&#34;startup, http-log, webhook-log, websocket-log, query-log&#34;
HASURA_GRAPHQL_EXPERIMENTAL_FEATURES=&#34;naming_convention&#34;
HASURA_GRAPHQL_CLI_ENVIRONMENT=&#34;default&#34;
HASURA_GRAPHQL_ADMIN_SECRET=&#34;hogehoge&#34;
</code></pre><p>â€»æ³¨æ„ç‚¹
<strong>HASURA_GRAPHQL_DATABASE_URL</strong>ã¯compose.yamlã®dbã®enviromentã§å®šç¾©ã—ãŸã‚‚ã®ã¨åŒä¸€ã«ã—ã¦ãã ã•ã„ã€‚ãã†ã§ãªã„ã¨dbã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒã§ãã¾ã›ã‚“ã€‚
<strong>HASURA_GRAPHQL_ADMIN_SECRET</strong>ã¯é©å®œä¿®æ­£ã—ã¦ãã ã•ã„ã€‚</p>
<hr>
<p>1.3
gitã«ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãªã„ã‚ˆã†ã€.gitignoreãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<p>(ä»¥ä¸‹ã€.gitignoreã®å†…å®¹)</p>
<pre tabindex="0"><code>settings/
</code></pre><hr>
<p>1.4
Nextjsã®ç’°å¢ƒæ§‹ç¯‰ã‚’è¡Œã„ã¾ã™ã€‚ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ã€‚</p>
<p>(ä»¥ä¸‹ã€Next.jsã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®å¯¾è©±å‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npx create-next-app@latest app
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Need to install the following packages:
</span></span><span style="display:flex;"><span>  create-next-app@15.0.3
</span></span><span style="display:flex;"><span>Ok to proceed? <span style="color:#f92672">(</span>y<span style="color:#f92672">)</span> y
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>âœ” Would you like to use TypeScript? â€¦ No / Yes
</span></span><span style="display:flex;"><span>âœ” Would you like to use ESLint? â€¦ No / Yes
</span></span><span style="display:flex;"><span>âœ” Would you like to use Tailwind CSS? â€¦ No / Yes
</span></span><span style="display:flex;"><span>âœ” Would you like your code inside a <span style="color:#e6db74">`</span>src/<span style="color:#e6db74">`</span> directory? â€¦ No / Yes
</span></span><span style="display:flex;"><span>âœ” Would you like to use App Router? <span style="color:#f92672">(</span>recommended<span style="color:#f92672">)</span> â€¦ No / Yes
</span></span><span style="display:flex;"><span>âœ” Would you like to use Turbopack <span style="color:#66d9ef">for</span> next dev? â€¦ No / Yes
</span></span><span style="display:flex;"><span>âœ” Would you like to customize the import alias <span style="color:#f92672">(</span>@/* by default<span style="color:#f92672">)</span>? â€¦ No / Yes
</span></span><span style="display:flex;"><span>âœ” What import alias would you like configured? â€¦ @/*
</span></span></code></pre></div><hr>
<p>1.5
æœ€å¾Œã«ã€Makefileã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã¯å¾Œã®Hasuraæ“ä½œã§ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<p>(ä»¥ä¸‹ã€Makefileã®å†…å®¹)</p>
<pre tabindex="0"><code>run:
	docker compose up -d
	sleep 10
	make db-apply

down:
	docker compose down

db/apply:
	docker compose exec api hasura metadata apply
	docker compose exec api hasura migrate apply --database-name default
	docker compose exec api hasura metadata reload

db/export:
	docker compose exec api hasura metadata export
	docker compose exec api hasura migrate create &#34;auto&#34; --from-server --database-name default

db/seed:
	docker compose exec api hasura seed apply

codegen:
	docker compose run --rm app npm run codegen
</code></pre><h3 id="2-hasuraã®èµ·å‹•">2. Hasuraã®èµ·å‹•</h3>
<p>2.1
compose upå‰ã«å¿…è¦ãªæº–å‚™ãŒæ•´ã£ãŸã®ã§ã€å®Ÿéš›ã«ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¡ä¸Šã’ã€Hasuraã®åˆæœŸèµ·å‹•ã‚’è¡Œã„ã¾ã™ã€‚</p>
<p>Hasura CLIã‚’ä½¿ç”¨ã—ã¦Hasuraã®ç’°å¢ƒã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã¯ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã€<code>docker compose run --rm</code>ã§ã¯ã†ã¾ãå‹•ä½œã—ã¾ã›ã‚“ã€‚</p>
<p><code>hasura init --directory .</code>ã§åˆæœŸåŒ–ã®å ´æ‰€ã‚’æŒ‡å®šã§ãã¾ã™ã€‚ä»Šå›ã¯compose upã®éš›ã«apiãƒ•ã‚©ãƒ«ãƒ€ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãã“ã«åˆæœŸåŒ–ã•ã›ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose up -d
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker compose exec api hasura init --directory .
</span></span></code></pre></div><hr>
<p>2.2
åˆæœŸåŒ–ãŒæˆåŠŸã—ãŸã‚‰ã€<code>localhost:8080/console</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦usersã‚¹ã‚­ãƒ¼ãƒã‚’ä½œæˆã—ã¾ã™ã€‚ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã¯ã€.envãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šã—ãŸADMIN_SECRETãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚</p>
<p>ç”»é¢ä¸Šéƒ¨ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰<strong>DATA</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ãã®å¾Œã€ŒCreate tableã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ç”»åƒã‚’å‚è€ƒã«ã€usersã‚¹ã‚­ãƒ¼ãƒã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚created_atã¨updated_atã¯ã€ã€ŒFrequently used columnsã€ã‹ã‚‰é¸æŠã§ãã¾ã™ã€‚
<img src="https://hackmd.io/_uploads/HyzL_ntXJg.png" alt="image (2)">
<img src="https://hackmd.io/_uploads/BkO8d2KX1g.jpg" alt="Add Table - Data _ Hasura_page-0001">
<img src="https://hackmd.io/_uploads/SJ0LOnYXJe.png" alt="image (3)"></p>
<hr>
<p>2.3
ã‚¹ã‚­ãƒ¼ãƒã®ä½œæˆãŒå®Œäº†ã—ãŸã‚‰ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç§»è¡Œã¨ç¾åœ¨ã®ã‚¹ã‚­ãƒ¼ãƒã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’è¡Œã„ã¾ã™ã€‚å…ˆã»ã©ä½œæˆã—ãŸMakeã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>make db/export
</span></span><span style="display:flex;"><span>make db/apply
</span></span></code></pre></div><h3 id="3-graphql-code-generatorã®å°å…¥">3. GraphQL Code Generatorã®å°å…¥</h3>
<p>3.1
Hasuraã¨Next.jsã®ç’°å¢ƒãŒæ•´ã£ãŸã®ã§ã€æœ€å¾Œã«Code Generatorã§è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>
<p>å¿…è¦ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose run --rm app npm install --save-dev <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  @graphql-codegen/cli <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  graphql <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  @graphql-codegen/client-preset <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  @graphql-codegen/typescript <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  @graphql-codegen/typescript-graphql-request <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  @graphql-codegen/typescript-operations <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  @graphql-codegen/typescript-react-apollo <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  prettier
</span></span></code></pre></div><hr>
<p>3.2
æ¬¡ã«ã€Code Generatorã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚å¯¾è©±å‹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã«å¾“ã„ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose run app npx graphql-codegen init
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Welcome to GraphQL Code Generator!
</span></span><span style="display:flex;"><span>    Answer few questions and we will setup everything <span style="color:#66d9ef">for</span> you.
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>? What type of application are you building? Application built with React
</span></span><span style="display:flex;"><span>? Where is your schema?: <span style="color:#f92672">(</span>path or url<span style="color:#f92672">)</span> http:localhost:8080
</span></span><span style="display:flex;"><span>? Where are your operations and fragments?: src/gql/*.gql
</span></span><span style="display:flex;"><span>? Where to write the output: type/
</span></span><span style="display:flex;"><span>? Do you want to generate an introspection file? Yes
</span></span><span style="display:flex;"><span>? How to name the config file? codegen.ts
</span></span><span style="display:flex;"><span>? What script in package.json should run the codegen? codegen
</span></span><span style="display:flex;"><span>Fetching latest versions of selected plugins...
</span></span></code></pre></div><p>initå¾Œã€ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚
(ä»¥ä¸‹ã€codegen.tsã®å†…å®¹)</p>
<pre tabindex="0"><code>import { config as dotenvConfig } from &#34;dotenv&#34;;
import { CodegenConfig } from &#34;@graphql-codegen/cli&#34;;

dotenvConfig();

const config: CodegenConfig = {
  overwrite: true,
  schema: [
    {
      &#34;http://api:8080/v1/graphql&#34;: {
        headers: {
          &#34;x-hasura-admin-secret&#34;:
            process.env.HASURA_GRAPHQL_ADMIN_SECRET || &#34;&#34;,
        },
      },
    },
  ],
  documents: &#34;src/gql/*.gql&#34;,
  hooks: {
    afterAllFileWrite: [&#34;prettier --write&#34;],
  },
  generates: {
    &#34;./src/type/graphql.ts&#34;: {
      plugins: [
        &#34;typescript&#34;,
        &#34;typescript-operations&#34;,
        &#34;typescript-react-apollo&#34;,
      ],
      config: {
        namingConvention: {
          typeNames: &#34;change-case-all#pascalCase&#34;,
          enumValues: &#34;change-case-all#camelCase&#34;,
          fieldNames: &#34;change-case-all#camelCase&#34;,
        },
        transformUnderscore: &#34;true&#34;,
        gqlImport: &#34;@apollo/client#gql&#34;,
        withHooks: false,
        withHOC: false,
        withComponent: false,
      },
    },
  },
};

export default config;
</code></pre><hr>
<p>3.3
GraphQLã‚¯ã‚¨ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir gql
</span></span><span style="display:flex;"><span>cd gql
</span></span><span style="display:flex;"><span>touch users.gql
</span></span></code></pre></div><p>(ä»¥ä¸‹ã€users.gqlã®å†…å®¹)</p>
<pre tabindex="0"><code>query GetUsers {
  users {
    id
    name
    created_at
    updated_at
  }
}

mutation CreateUser($name: String!) {
  insert_users_one(object: {name: $name}) {
    id
    name
  }
}

mutation UpdateUser($id: Int!, $name: String!) {
  update_users_by_pk(pk_columns: {id: $id}, _set: {name: $name}) {
    id
    name
  }
}

mutation DeleteUser($id: Int!) {
  delete_users_by_pk(id: $id) {
    id
    name
  }
}
</code></pre><hr>
<p>3.4
ESLintã®è¨­å®šã‚’ä¿®æ­£ã—ã¾ã™ã€‚</p>
<p>(ä»¥ä¸‹ã€.eslintrc.jsonã®å†…å®¹)</p>
<pre tabindex="0"><code>{
  &#34;extends&#34;: [&#34;next/core-web-vitals&#34;, &#34;next/typescript&#34;],
  &#34;overrides&#34;: [
    {
      &#34;files&#34;: [&#34;app/src/type/*&#34;],
      &#34;rules&#34;: {
        &#34;no-unused-vars&#34;: &#34;off&#34;,
        &#34;other-rule&#34;: &#34;off&#34;
      }
    }
  ]
}
</code></pre><hr>
<p>3.5
æœ€å¾Œã«ã€å‹å®šç¾©ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>make codegen
</span></span></code></pre></div><h3 id="4-å‹•ä½œç¢ºèª">4. å‹•ä½œç¢ºèª</h3>
<p>4.1
src/pagesã«ã‚ã‚‹_app.tsxã¨index.tsxã‚’ä¿®æ­£ã—ã¾ã™ã€‚app.tsxã§ApolloProviderã§å›²ã¾ãªã„ã¨ã‚¨ãƒ©ãƒ¼ãŒè¿”ã£ã¦ãã¦ã—ã¾ã†ã®ã§å¿˜ã‚Œãšã«è¡Œã„ã¾ã—ã‚‡ã†ã€‚</p>
<p>(ä»¥ä¸‹ã€_app.tsxã®å†…å®¹)</p>
<pre tabindex="0"><code>import &#34;@/styles/globals.css&#34;;
import type { AppProps } from &#34;next/app&#34;;
import { ApolloProvider, ApolloClient, InMemoryCache } from &#34;@apollo/client&#34;;
import { GraphQLWsLink } from &#34;@apollo/client/link/subscriptions&#34;;
import { createClient } from &#34;graphql-ws&#34;;

const wsClient = createClient({
  url: process.env.WS_API_URL + &#34;/v1/graphql&#34;,
  connectionParams: {
    headers: {
      &#34;x-hasura-admin-secret&#34;: process.env.HASURA_GRAPHQL_ADMIN_SECRET,
    },
  },
});
// ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å«ã‚“ã  websocket ãƒªãƒ³ã‚¯ã‚’ä½œæˆ
const wsLink = new GraphQLWsLink(wsClient);

// Apollo client ã‚’ä½œæˆ
const client = new ApolloClient({
  link: wsLink,
  cache: new InMemoryCache(),
});

export default function App({ Component, pageProps }: AppProps) {
  return (
    &lt;ApolloProvider client={client}&gt;
      &lt;Component {...pageProps} /&gt;
    &lt;/ApolloProvider&gt;
  );
}
</code></pre><p>(ä»¥ä¸‹ã€index.tsxã®å†…å®¹)</p>
<pre tabindex="0"><code>import { useSubscription, useMutation } from &#34;@apollo/client&#34;;
import {
  SubscriptionUsersSubscription,
  CreateUserMutation,
  UpdateUserMutation,
  DeleteUserMutation,
  SubscriptionUsersDocument,
  CreateUserDocument,
  UpdateUserDocument,
  DeleteUserDocument,
} from &#34;@/type/graphql&#34;;
import { useState } from &#34;react&#34;;

const Page = () =&gt; {
  const { data, loading, error } =
    useSubscription&lt;SubscriptionUsersSubscription&gt;(SubscriptionUsersDocument);
  const [createUser] = useMutation&lt;CreateUserMutation&gt;(CreateUserDocument);
  const [updateUser] = useMutation&lt;UpdateUserMutation&gt;(UpdateUserDocument);
  const [deleteUser] = useMutation&lt;DeleteUserMutation&gt;(DeleteUserDocument);

  const [newName, setNewName] = useState&lt;string&gt;(&#34;&#34;);
  const [editId, setEditId] = useState&lt;number | null&gt;(null);
  const [editName, setEditName] = useState&lt;string&gt;(&#34;&#34;);

  const handleCreateUser = async () =&gt; {
    if (!newName) return;
    try {
      await createUser({ variables: { name: newName } });
      setNewName(&#34;&#34;);
    } catch (err) {
      console.error(&#34;Error creating user:&#34;, err);
    }
  };

  const handleEdit = (id: number, name: string) =&gt; {
    setEditId(id);
    setEditName(name);
  };

  const handleUpdateUser = async () =&gt; {
    if (editId === null || !editName) return;
    try {
      await updateUser({ variables: { id: editId, name: editName } });
      setEditId(null);
      setEditName(&#34;&#34;);
    } catch (err) {
      console.error(&#34;Error updating user:&#34;, err);
    }
  };

  const handleDeleteUser = async (id: number) =&gt; {
    try {
      await deleteUser({ variables: { id } });
    } catch (err) {
      console.error(&#34;Error deleting user:&#34;, err);
    }
  };

  if (loading) return &lt;&gt;loading...&lt;/&gt;;
  if (error) return &lt;p&gt;Error: {error.message}&lt;/p&gt;;

  return (
    &lt;div&gt;
      &lt;h1&gt;Users&lt;/h1&gt;

      &lt;div&gt;
        &lt;input
          type=&#34;text&#34;
          value={newName}
          onChange={(e) =&gt; setNewName(e.target.value)}
          placeholder=&#34;Enter name&#34;
        /&gt;
        &lt;button onClick={handleCreateUser}&gt;Create User&lt;/button&gt;
      &lt;/div&gt;

      &lt;ul&gt;
        {data?.users.map((user) =&gt; (
          &lt;li key={user.id}&gt;
            {editId === user.id ? (
              &lt;div&gt;
                &lt;input
                  type=&#34;text&#34;
                  value={editName}
                  onChange={(e) =&gt; setEditName(e.target.value)}
                  placeholder=&#34;Edit name&#34;
                /&gt;
                &lt;button onClick={handleUpdateUser}&gt;Save&lt;/button&gt;
                &lt;button onClick={() =&gt; setEditId(null)}&gt;Cancel&lt;/button&gt;
              &lt;/div&gt;
            ) : (
              &lt;div&gt;
                &lt;span&gt;{user.name}&lt;/span&gt;
                &lt;button onClick={() =&gt; handleEdit(user.id, user.name)}&gt;
                  Edit
                &lt;/button&gt;
                &lt;button onClick={() =&gt; handleDeleteUser(user.id)}&gt;
                  Delete
                &lt;/button&gt;
              &lt;/div&gt;
            )}
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
};

export default Page;
</code></pre><hr>
<p>4.2
ä¸Šè¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ãŸã‚‰<code>localhost:3000</code> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦å‹•ä½œç¢ºèªã—ã¾ã™ã€‚</p>
<p>cssã‚’æ›¸ã„ã¦ã„ãªã„ã®ã§ã¨ã¦ã‚‚ç°¡ç´ ãªã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ãŒãƒ¦ãƒ¼ã‚¶ã®ä½œæˆã€ç·¨é›†ã€å‰Šé™¤ã‚’è¡Œã†ã¨ãã‚ŒãŒå³åº§ã«åæ˜ ã•ã‚Œã¦ã„ãŸã‚‰websocketãŒå‹•ã„ã¦ã„ã‚‹ã®ã§æˆåŠŸã«ãªã‚Šã¾ã™ã€‚
<img src="https://hackmd.io/_uploads/Hy7-52Ym1e.png" alt="image (4)"></p>
<hr>
<h3 id="ç’°å¢ƒæ§‹ç¯‰ä¸­ã«ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã«ã¤ã„ã¦">ç’°å¢ƒæ§‹ç¯‰ä¸­ã«ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã«ã¤ã„ã¦</h3>
<p>è‡ªå‹•ç”Ÿæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ãŒrootã«ãªã£ã¦ã„ã¾ã—ãŸã€‚
ãã®å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ¨©é™ã‚’å¤‰æ›´ã—ã¦ã‚ã’ã¦ãã ã•ã„ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo chown -R <span style="color:#f92672">{</span>name<span style="color:#f92672">}</span>:<span style="color:#f92672">{</span>name<span style="color:#f92672">}</span> <span style="color:#f92672">{</span>folder_name<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">755</span> <span style="color:#f92672">{</span>file_name<span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="ä½™è«‡">ä½™è«‡</h2>
<p>BINGOãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’ã¯ã˜ã‚ã¦2å¹´ãŒçµŒã¡ã¾ã™ãŒcode geneaterã‚’å°å…¥ã—ãŸã®ã¯ä»Šå¹´ã‹ã‚‰ã§ã—ãŸã€‚ãªã®ã§ã›ã£ã‹ããªã®ã§å°å…¥å‰ã¨å¾Œã®æ¯”è¼ƒã‚’è¡Œã„ã€è‡ªå‹•ç”Ÿæˆã¯ä½¿ã†ã¹ãã¨ã„ã†æ•™è¨“ã‚’çš†æ§˜ã«å…±æœ‰ã—ã¾ã™ã€‚</p>
<p>æ­£ç›´ä»Šã‚‚Graphql APIã¨REST APIã®é•ã„ã¯åˆ†ã‹ã‚‰ãšã«ä½¿ã£ã¦ã„ã¾ã™ãŒåˆæœŸã®é ƒã¯api_methodsã‚’ä½œæˆã—ã¦ã„ã¾ã—ãŸã€‚pageã§ã¯é–¢æ•°ã ã‘å‘¼ã³å‡ºã—ã¦ä½¿ã„ãŸã„ãŸã‚ã“ã“ã§Promiseã®å‡¦ç†ã‚’æ›¸ã„ãŸã‚Šã€å‹å®šç¾©ã‚’ã—ãŸã‚Šã¨æ›¸ã„ã¦ã„ã¾ã—ãŸã€‚</p>
<p>ã—ã‹ã—ã€generaterã‚’å°å…¥ã—ã¦ã‹ã‚‰ã¯ã‚¯ã‚¨ãƒªã‚’å®šç¾©ã™ã‚‹ã ã‘TSã«å¿…è¦ãªå‹å®šç¾©ã‚„apollo clientã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ãŒç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã›ã£ã‹ãAPIã‚’hasuraãŒç°¡å˜ã«å®Ÿè£…ã—ã¦ãã‚Œã‚‹ã®ã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¸ã®ç¹‹ãè¾¼ã¿ã§æ™‚é–“ãŒã‹ã‹ã‚‹å•é¡Œã‚’è§£æ±ºã™ã‚‹ã«è‡³ã‚Šã¾ã—ãŸã€‚</p>
<p>å°å…¥å‰ã®AP
/src/utils/api_methods.ts</p>
<pre tabindex="0"><code>import { ApolloClient, InMemoryCache, gql} from &#34;@apollo/client&#34;;
import next from &#34;next/types&#34;;
import { GraphQLWsLink } from &#39;@apollo/client/link/subscriptions&#39;;
import { createClient } from &#34;graphql-ws&#34;;
import { userAgent } from &#34;next/server&#34;;

const wsLink = new GraphQLWsLink(createClient({
  url: process.env.WS_API_URL + &#34;/v1/graphql&#34;,
    // èªè¨¼é–¢é€£ã¯ã“ã“ã«æ›¸ã
}));

const client = new ApolloClient({
  link: wsLink,
  cache: new InMemoryCache(),
});

export interface BingoNumber {
  id: number;
  data: number;
}

// GraphQLã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œ
export async function getBingoNumber(): Promise&lt;BingoNumber[]&gt; {
  try {
    const response = await client.query({
      query: gql`
        query MyQuery {
          bingo_number {
            data
            id
          }
        }
      `,
    });
    return response.data.bingo_number;
  } catch (error) {
    console.error(&#34;Error fetching data:&#34;, error);
    return []
  }
}

// websocketé€šä¿¡ã§BingoNumberã‚’å–å¾—
export async function subscriptionBingoNumber(): Promise&lt;BingoNumber[]&gt; {
  try {
    const response = await client.subscribe({
      query: gql`
        subscription MySubscription {
          bingo_number {
            data
            id
          }
        }
      `,
    });
    return new Promise&lt;BingoNumber[]&gt;((resolve, reject) =&gt; {
      response.subscribe({
        next: data =&gt; resolve(data.data.bingo_number),
        error: error =&gt; {
          console.error(&#39;Subscription error:&#39;, error);
          reject(error);
        },
      });
    });
  } catch (error) {
    console.error(&#39;Error fetching data:&#39;, error);
    return [];
  }
}

export async function createBingoNumber(
  data: number
): Promise&lt;BingoNumber[]&gt; {
  try {
    const response = await client.mutate({
      mutation: gql`
        mutation MyMutation($data: Int!) {
          insert_bingo_number_one(object: { data: $data }) {
            id
          }
        }
      `,
      variables: { data },
    });

    return response.data.insert_bingo_number_one;
  } catch (error) {
    console.error(&#34;Error creating bingo number:&#34;, error);
    return []
  }
}

export async function deleteBingoNumber(
  data: number
): Promise&lt;BingoNumber[]&gt; {
  try {
    const response = await client.mutate({
      mutation: gql`
        mutation MyMutation($data: Int!) {
          delete_bingo_number(where: { data: { _eq: $data } }) {
            affected_rows
          }
        }
      `,
      variables: { data },
    });

    return response.data.delete_bingo_number;
  } catch (error) {
    console.error(&#34;Error deleteing bingo number:&#34;, error);
    return []
  }
}
</code></pre><p>å°å…¥å¾Œã®API
src/gql/numbers.gql</p>
<pre tabindex="0"><code># ç•ªå·ã®å–å¾—(Get)
query GetListNumbers {
  numbers {
    id
    number
    createdAt
    updatedAt
  }
}

# ç•ªå·ã®è¿½åŠ (Create)
mutation CreateOneNumber($number: Int!) {
  insertNumbersOne(object: { number: $number }) {
    id
  }
}

# ç•ªå·ã®å‰Šé™¤(Delete)
mutation DeleteOneNumber($number: Int!) {
  deleteNumbers(where: { number: { _eq: $number } }) {
    affectedRows
  }
}

# ç•ªå·ã®ç¶™ç¶šå–å¾—(Subscription)
subscription SubscribeListNumbers {
  numbers {
    id
    number
    createdAt
    updatedAt
  }
}
</code></pre><h2 id="ãŠã‚ã‚Šã«">ãŠã‚ã‚Šã«</h2>
<p>ã“ã“ã¾ã§ã”ä¸€èª­ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚èª°ã‹ã®é–‹ç™ºã®ãƒ’ãƒ³ãƒˆã«ãªã£ã¦ã„ã‚Œã°å¹¸ã„ã§ã™ã€‚</p>
<p>ç§äº‹ã«ãªã‚Šã¾ã™ãŒã€NUTMEGã¯ä»Šå¹´ã‚‚å¤šãã®æ–°å…¥ç”Ÿã«æµã¾ã‚Œæ´»æ°—ã®ã‚ã‚‹å›£ä½“ã«ãªã‚Šã¾ã—ãŸã€‚ä»–å±€ã¨ã®ä¿¡é ¼é–¢ä¿‚ã‚‚ä¸€å±¤å¼·ã¾ã‚Šãƒ’ã‚¢ãƒªãƒ³ã‚°ã«å¯¾ã—ã¦çœŸæ‘¯ã«å¯¾å¿œã—ã¦ãã ã•ã‚‹ãŠã‹ã’ã§æ²¢å±±ã®ä¿®æ­£äº‹é …ã‚„æ”¹å–„äº‹é …ã‚’é ‚ãã¾ã—ãŸã€‚ä»Šã®æ–°å…¥ç”Ÿã®å‹¢ã„ã«è² ã‘ãªã„ã‚ˆã†ã«å¯„ã‚Šã‚ˆã‚Šãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’å®Ÿç¾ãƒ»æä¾›ã§ãã‚‹ã‚ˆã†ã«æ´»å‹•ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚</p>
<p>æœ€å¾Œã«è¨€ã„ãŸã‹ã£ãŸã“ã¨ã¨ã—ã¦ã€çš†ã•ã‚“æ˜¯éGeneraterã«ã‚ˆã‚‹è‡ªå‹•ç”Ÿæˆã‚’ã†ã¾ãæ´»ç”¨ã—ã¦è‰¯ã„é–‹ç™ºãƒ©ã‚¤ãƒ•ã‚’ãŠé€ã‚Šãã ã•ã„ã€‚ä»Šã®æ™‚ä»£ã€æ´»ç”¨ã—ãŸã‚‚ã®å‹ã¡ã§ã™ã€‚</p>

        </div>

        
        
      </div>
    </div>
  </div>
</section>



<footer>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 text-center mb-5">
        <a href="https://blog.nutmeg.cloud/"><img src="https://blog.nutmeg.cloud/images/NUTMEG-logo_all_color_horizontal.png" alt="NUTMEG | é•·å²¡æŠ€è¡“ç§‘å­¦å¤§å­¦ æŠ€å¤§ç¥­å®Ÿè¡Œå§”å“¡ä¼š æƒ…å ±å±€"></a>
      </div>
      
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Social Contacts</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://twitter.com/nutfes_nutmeg">twitter</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://www.instagram.com/nutfes/?hl=ja">instagram</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://github.com/orgs/NUTFes">github</a></li>
          
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Categories</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><a class="text-dark"
              href="https://blog.nutmeg.cloud/categories/nutmeg-advent-calendar-2023">Nutmeg advent calendar 2023</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="https://blog.nutmeg.cloud/categories/nutmeg-advent-calendar-2024">Nutmeg advent calendar 2024</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="https://blog.nutmeg.cloud/categories/%e3%82%a4%e3%83%99%e3%83%b3%e3%83%88">ã‚¤ãƒ™ãƒ³ãƒˆ</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="https://blog.nutmeg.cloud/categories/%e3%83%81%e3%83%bc%e3%83%a0%e3%81%a5%e3%81%8f%e3%82%8a">ãƒãƒ¼ãƒ ã¥ãã‚Š</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="https://blog.nutmeg.cloud/categories/%e3%83%a1%e3%83%b3%e3%83%90%e3%83%bc%e3%81%ae%e8%b6%a3%e5%91%b3">ãƒ¡ãƒ³ãƒãƒ¼ã®è¶£å‘³</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="https://blog.nutmeg.cloud/categories/%e5%af%be%e5%a4%96%e6%b4%bb%e5%8b%95">å¯¾å¤–æ´»å‹•</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="https://blog.nutmeg.cloud/categories/%e6%b4%bb%e5%8b%95%e3%81%ae%e6%a7%98%e5%ad%90">æ´»å‹•ã®æ§˜å­</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Quick Links</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://blog.nutmeg.cloud/about">About</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://blog.nutmeg.cloud/blog">Post</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://blog.nutmeg.cloud/products">Products</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://blog.nutmeg.cloud/members">Members</a></li>
          
        </ul>
      </div>
      <div class="col-12 border-top py-4 text-center">
        Â© NUTMEG 2024
      </div>
    </div>
  </div>
</footer>

<script>
  var indexURL = "https://blog.nutmeg.cloud/index.json"
</script>

<!-- JS Plugins -->

<script src="https://blog.nutmeg.cloud/plugins/jQuery/jquery.min.js"></script>

<script src="https://blog.nutmeg.cloud/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://blog.nutmeg.cloud/plugins/slick/slick.min.js"></script>

<script src="https://blog.nutmeg.cloud/plugins/venobox/venobox.min.js"></script>

<script src="https://blog.nutmeg.cloud/plugins/search/fuse.min.js"></script>

<script src="https://blog.nutmeg.cloud/plugins/search/mark.js"></script>

<script src="https://blog.nutmeg.cloud/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://blog.nutmeg.cloud/js/script.min.js"></script>



</body>
</html>